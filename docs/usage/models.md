# Unity Catalog Registered Models and Model Versions

This page shows you how to use Unity Catalog to store, access and govern Registered Models and Model Versions..

Registered Models are logical containers for ML models within Unity Catalog.  A registered model is comprised of any
number of Model Versions which represent different iterations of the model that you with to keep track of from within Unity Catalog.

Unity catalog provides all of the functionality needed to keep track of model in your model development workflow.

The following diagram shows an example of a Unity Catalog instance with a registered model: `iris_regression` that contains 1 model version:

![UC Functions](../assets/images/uc_functions.png)

Let's look at how this works.

## Set Up

We'll use a local Unity Catalog server to get started.

> If this is your first time spinning up a UC server, you might want to check out the [Quickstart](../quickstart.md) first.

Spin up a local UC server by running the following code in a terminal from the root directory of your local `unitycatalog` repository:

```sh
bin/start-uc-server
```

> Follow the [models quickstart](../quickstart.md) instructions for setting up MLflow and training/registering an iris model to the Unity Catalog server. 

Please see the [MLflow quickstart guides](https://mlflow.org/docs/latest/getting-started/index.html) and the [MLflow python API](https://mlflow.org/docs/latest/python_api/index.html) to learn how to use the MLflow client to 
train, register, and use models from with the Unity Catalog server.

While it is recommended that you interact with models in Unity Catalog using the MLflow client, the UC CLI also has support
for interacting with models in the Unity Catalog server.

## Inspecting Registered Models and Model Versions

You can list the registered models in your UC namespace using:

```sh
bin/uc registered_model list --catalog unity --schema default
```

You should see something that looks like:

```
┌──────────┬───────────────────┬───────────────────┬───────────────────┬───────────────────┬───────────────────┬───────────────────┬───────────────────┬───────────────────┬───────────────────┬────────────────────────────────────┐
│   NAME   │   CATALOG_NAME    │    SCHEMA_NAME    │ STORAGE_LOCATION  │     FULL_NAME     │      COMMENT      │    CREATED_AT     │    CREATED_BY     │    UPDATED_AT     │    UPDATED_BY     │              MODEL_ID              │
├──────────┼───────────────────┼───────────────────┼───────────────────┼───────────────────┼───────────────────┼───────────────────┼───────────────────┼───────────────────┼───────────────────┼────────────────────────────────────┤
│iris      │unity              │default            │file:/tmp/uc-roo...│unity.default.ir...│null               │1725398516483      │null               │1725398516483      │null               │2ea060a1-2315-490f-8edf-5f6419392de6│
└──────────┴───────────────────┴───────────────────┴───────────────────┴───────────────────┴───────────────────┴───────────────────┴───────────────────┴───────────────────┴───────────────────┴────────────────────────────────────┘
```

Additionally, you can list the model versions under a registered model using:

```sh
bin/uc model_version list --full_name unity.default.iris
```

You should see something that looks like this when listing model versions:
```
┌──────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────────┬────────────────────────────────────┐
│  MODEL_NAME  │ CATALOG_NAME │ SCHEMA_NAME  │   VERSION    │    SOURCE    │RUN_ID│    STATUS    │STORAGE_LOCATI│   COMMENT    │  CREATED_AT  │  CREATED_BY  │  UPDATED_AT  │  UPDATED_BY  │          MODEL_VERSION_ID          │
│              │              │              │              │              │      │              │      ON      │              │              │              │              │              │                                    │
├──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼────────────────────────────────────┤
│iris          │unity         │default       │1             │my_source     │my_id │PENDING_REG...│file:/tmp/u...│Model         │1725847699924 │null          │1725847699924 │null          │a61c624f-206a-419b-b065-65acf5f1b8f9│
└──────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────────┴────────────────────────────────────┘
```

You can get the metadata of registered models or model versions using

```sh
bin/uc registered_model get --full_name unity.default.iris
```

which would return something similar to this:
```
┌──────────────────────────────────────┬──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                 KEY                  │                                                                VALUE                                                                 │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│NAME                                  │iris                                                                                                                                  │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CATALOG_NAME                          │unity                                                                                                                                 │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│SCHEMA_NAME                           │default                                                                                                                               │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│STORAGE_LOCATION                      │file:/tmp/ucroot/f029b870-9468-4f10-badc-630b41e5690d/b08dfd57-a939-46cf-b102-9b906b884fae/models/a4f296f1-94a9-4820-bf0d-d16d77a65f4f│
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│FULL_NAME                             │unity.default.iris                                                                                                                    │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│COMMENT                               │null                                                                                                                                  │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CREATED_AT                            │1725848194737                                                                                                                         │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CREATED_BY                            │null                                                                                                                                  │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│UPDATED_AT                            │1725848194737                                                                                                                         │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│UPDATED_BY                            │null                                                                                                                                  │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│MODEL_ID                              │a4f296f1-94a9-4820-bf0d-d16d77a65f4f                                                                                                  │
└──────────────────────────────────────┴──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

or

```sh
bin/uc model_version get --full_name unity.default.iris --version 1
```

which would return something similar to:

```
┌──────────────────────────────────────┬─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                 KEY                  │                                                                                    VALUE                                                                                    │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│MODEL_NAME                            │iris                                                                                                                                                                         │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CATALOG_NAME                          │unity                                                                                                                                                                        │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│SCHEMA_NAME                           │default                                                                                                                                                                      │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│VERSION                               │1                                                                                                                                                                            │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│SOURCE                                │my_source                                                                                                                                                                    │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│RUN_ID                                │my_id                                                                                                                                                                        │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│STATUS                                │PENDING_REGISTRATION                                                                                                                                                         │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│STORAGE_LOCATION                      │file:/tmp/ucroot/f029b870-9468-4f10-badc-630b41e5690d/b08dfd57-a939-46cf-b102-9b906b884fae/models/a4f296f1-94a9-4820-bf0d-d16d77a65f4f/versions/a61c624f-206a-419b-b065-65acf│
│                                      │5f1b8f9                                                                                                                                                                      │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│COMMENT                               │Model                                                                                                                                                                        │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CREATED_AT                            │1725847699924                                                                                                                                                                │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CREATED_BY                            │null                                                                                                                                                                         │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│UPDATED_AT                            │1725847699924                                                                                                                                                                │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│UPDATED_BY                            │null                                                                                                                                                                         │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│MODEL_VERSION_ID                      │a61c624f-206a-419b-b065-65acf5f1b8f9                                                                                                                                         │
└──────────────────────────────────────┴─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

## Updating registered models and model versions

You can update the comment or name of a registered models using the Unity Catalog CLI.

```
bin/uc registered_model update --full_name unity.default.iris --new_name iris2 --comment "new comment"
```

which will return the updated metadata of the registered model:

```
┌──────────────────────────────────────┬──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                 KEY                  │                                                                VALUE                                                                 │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│NAME                                  │iris2                                                                                                                                 │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CATALOG_NAME                          │unity                                                                                                                                 │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│SCHEMA_NAME                           │default                                                                                                                               │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│STORAGE_LOCATION                      │file:/tmp/ucroot/f029b870-9468-4f10-badc-630b41e5690d/b08dfd57-a939-46cf-b102-9b906b884fae/models/a4f296f1-94a9-4820-bf0d-d16d77a65f4f│
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│FULL_NAME                             │unity.default.iris2                                                                                                                   │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│COMMENT                               │new comment                                                                                                                           │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CREATED_AT                            │1725848194737                                                                                                                         │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CREATED_BY                            │null                                                                                                                                  │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│UPDATED_AT                            │1725848487645                                                                                                                         │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│UPDATED_BY                            │null                                                                                                                                  │
├──────────────────────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│MODEL_ID                              │a4f296f1-94a9-4820-bf0d-d16d77a65f4f                                                                                                  │
└──────────────────────────────────────┴──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

Additionally, you can update the comment of a model version as well:

```sh
bin/uc model_version --full_name unity.default.iris2 --version 1 --comment "New model version comment"
```

which will return the updated model version metadata:

```
┌──────────────────────────────────────┬─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                 KEY                  │                                                                                    VALUE                                                                                    │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│MODEL_NAME                            │iris2                                                                                                                                                                        │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CATALOG_NAME                          │unity                                                                                                                                                                        │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│SCHEMA_NAME                           │default                                                                                                                                                                      │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│VERSION                               │1                                                                                                                                                                            │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│SOURCE                                │my_source                                                                                                                                                                    │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│RUN_ID                                │my_id                                                                                                                                                                        │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│STATUS                                │PENDING_REGISTRATION                                                                                                                                                         │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│STORAGE_LOCATION                      │file:/tmp/ucroot/f029b870-9468-4f10-badc-630b41e5690d/b08dfd57-a939-46cf-b102-9b906b884fae/models/a4f296f1-94a9-4820-bf0d-d16d77a65f4f/versions/055401d8-b141-4eaa-a05c-2f6a8│
│                                      │69f779b                                                                                                                                                                      │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│COMMENT                               │New model version comment                                                                                                                                                    │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CREATED_AT                            │1725848675124                                                                                                                                                                │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│CREATED_BY                            │null                                                                                                                                                                         │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│UPDATED_AT                            │1725848680088                                                                                                                                                                │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│UPDATED_BY                            │null                                                                                                                                                                         │
├──────────────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│MODEL_VERSION_ID                      │055401d8-b141-4eaa-a05c-2f6a869f779b                                                                                                                                         │
└──────────────────────────────────────┴─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

## Deleting registered models and model versions

Using the Unity Catalog CLI you can also delete model versions and registered models.

```
bin/uc model_version delete --full_name unity.default.iris2 --version 1
```

and

```
bin/uc registered_model delete --full_name unity.default.iris2
```